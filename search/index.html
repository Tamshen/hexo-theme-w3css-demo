
<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
 

<title>Search - TAMSHEN</title>
<meta name="description" content="这里是PY交友地！">
<meta name="keywords" content="TAMSHEN">
<link rel="icon" type="image/png" href="/favicon.png">
<link rel="stylesheet" href="/Ts/css/w3.css">
<link rel="stylesheet" href="/Ts/css/monokai-sublime.min.css">
<link rel="stylesheet" href="/Ts/css/viewer.min.css">
<script src="/Ts/js/viewer.min.js"></script>
<link rel="stylesheet" href="/Ts/css/tamshen.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>var searchpage = '/search/';var searchjson = '/searchjson/index.html';</script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>
<body>
<header class="w3-white header">
    
        <div class="menu">
            <div class="bar">
                <div class="w3-content tsw">
                    <div class="logo"><a href="/"><img src="/Ts/img/ts.png" height="50px;" width="50px"></a></div>
                    <div class="menubtn" onclick="menu_open()"><svg t="1554204421219" class="icon" style="width:1.8em;height:1.8em" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2695">
                            <path d="M131.754667 202.069333m34.133333 0l682.666667 0q34.133333 0 34.133333 34.133334l0 0q0 34.133333-34.133333 34.133333l-682.666667 0q-34.133333 0-34.133333-34.133333l0 0q0-34.133333 34.133333-34.133334Z" fill="#282828" p-id="2696"/>
                            <path d="M131.754667 483.669333m34.133333 0l682.666667 0q34.133333 0 34.133333 34.133334l0 0q0 34.133333-34.133333 34.133333l-682.666667 0q-34.133333 0-34.133333-34.133333l0 0q0-34.133333 34.133333-34.133334Z" fill="#282828" p-id="2697"/>
                            <path d="M131.754667 765.269333m34.133333 0l682.666667 0q34.133333 0 34.133333 34.133334l0 0q0 34.133333-34.133333 34.133333l-682.666667 0q-34.133333 0-34.133333-34.133333l0 0q0-34.133333 34.133333-34.133334Z" fill="#282828" p-id="2698"/>
                        </svg></div>
                    <div class="menubtnoff" onclick="menu_close()"><svg t="1554205937051" class="icon" style="width:1.8em;height:1.8em" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3337">
                            <path d="M890.88 921.6c-7.68 0-15.36-2.56-23.04-10.24L112.64 156.16c-12.8-12.8-12.8-33.28 0-43.52s33.28-12.8 43.52 0l755.2 755.2c12.8 12.8 12.8 33.28 0 43.52-5.12 7.68-12.8 10.24-20.48 10.24" fill="#282828" p-id="3338"/>
                            <path d="M133.12 921.6c-15.36 0-30.72-12.8-30.72-30.72 0-7.68 2.56-15.36 10.24-23.04L867.84 112.64c12.8-12.8 33.28-10.24 43.52 2.56 10.24 12.8 10.24 30.72 0 43.52L156.16 911.36c-5.12 7.68-12.8 10.24-23.04 10.24" fill="#282828" p-id="3339"/>
                        </svg></div>
                    <div class="link menu_link">
                        
                            
                            <a class="header-link" href="/" title="首页">
                                首页</a>
                            
                            
                            
                            <a class="header-link" href="/links" title="朋友">
                                朋友</a>
                            
                            
                            
                                <div class="w3-dropdown-hover">
                                    <span class="header-link">学习与分享<span class="header-link-icon"></span></span>
                                    <div class="w3-dropdown-content header-link-pan">
                                        
                                        <a href="/ai2" title="App Inventor 2">App Inventor 2</a>
                                        
                                        <a href="/software" title="常用软件下载">常用软件下载</a>
                                        
                                    </div>
                                </div>
                                
                                <div class="w3-dropdown-hover">
                                    <span class="header-link">关于<span class="header-link-icon"></span></span>
                                    <div class="w3-dropdown-content header-link-pan">
                                        
                                        <a href="/about" title="关于我">关于我</a>
                                        
                                    </div>
                                </div>
                                
                    </div>
                </div>
            </div>
        </div>

    
</header>

<div class="w3-content tsw w3-p-b-16" id="barba-wrapper">
    <div class="w3-row barba-container animate-main">


<div class="page-tag ">
  <div class="w3-container">
    <div class="w3-center w3-padding-32">
      <div class="sidebar-search w3-content" style="max-width: 500px;">
        
        <div class="w3-row">
            <form action="/search/" method="get" onsubmit="return SearchGet();">
                <div class="w3-col" style="width:85%">
                    <input class="w3-input w3-border" type="text" id="Searchtext" placeholder name="Searchtext">
                </div>
                <div class="w3-rest">
                    <button class="w3-btn w3-btn-block searchbtn">
                        <svg t="1583160858223" class="icon" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3946" width="100%" height="100%">
                            <path d="M685.6 660.336l155.152 155.168a16 16 0 0 1 0 22.624l-11.312 11.328a16 16 0 0 1-22.624 0l-158.528-158.544a289.792 289.792 0 0 1-165.152 51.36C322.336 742.256 192 611.904 192 451.12 192 290.336 322.336 160 483.136 160c160.784 0 291.12 130.336 291.12 291.136 0 82.112-33.984 156.272-88.672 209.2z m-202.464 33.92c134.272 0 243.12-108.848 243.12-243.12C726.256 316.848 617.408 208 483.136 208 348.848 208 240 316.848 240 451.136c0 134.272 108.848 243.12 243.136 243.12z" p-id="3947" fill="#ffffff" data-spm-anchor-id="a313x.7781069.0.i0" class="selected">
                            </path>
                        </svg>
                    </button>
                </div>
            </form>
        </div>
      </div>
    </div>
        <h4 class="tag-title">搜索: <span id="searchtext2"></span></h4>
        <hr>
        <div class="w3-row-padding" id="searchresults">
              
        </div>
    
  </div>
</div>




<script>
//获取get参数
function getQueryVariable(variable)
{
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
}


//检测是否有搜索的get参数
if(getQueryVariable("Searchtext")){
  var value = decodeURIComponent(getQueryVariable("Searchtext"));

  document.getElementById("Searchtext").setAttribute("placeholder",value);
  document.getElementById('searchtext2').innerHTML = value; 
}else{
  window.location.href="https://w3css.github.tamshen.com";
}


ajax({ 
  type:"GET", 
  url:"../searchjson/index.html", 
  dataType:"json", 
  success:function(msg){ 
    //console.log(msg) 
    var s = msg;
    var value = decodeURIComponent(getQueryVariable("Searchtext"));
    //console.log(s)
    //console.log(value)
    if (value == "") return;
      var arr = [];
      var patt = new RegExp(value);
      for (var i = 0; i < s.length; i++) {
          if (patt.test(unescape(s[i].title)) || patt.test(unescape(s[i].content))) {
              arr.push(i);
          }
      }
    if (arr.length) {
        var str = "";
        for (var i = 0; i < arr.length; i++) {
            if(s[arr[i]].content.length>12){
                s[arr[i]].content = unescape(s[arr[i]].content).substring(0,140) + '...';
            }
            //str += '<a href="' + s[arr[i]].url + '" title="' + unescape(s[arr[i]].title) + '"><div class="w3-third w3-container w3-margin-bottom w3-hover-opacity"><div class="w3-container w3-light-grey"><p><b>' + unescape(s[arr[i]].title) + s[arr[i]].time + '</b></p><p class="tag-text">' + unescape(s[arr[i]].content) + '</p></div></div></a>';
            
            var tpl_url = s[arr[i]].url;
            var tpl_title = unescape(s[arr[i]].title);
            var tpl_content = unescape(s[arr[i]].content);
            var tpl_time = s[arr[i]].time;
            var tpl_author = unescape(s[arr[i]].author);

            str += "<a href=\'" + tpl_url + "\' title=\'" + tpl_title + "\'>";
            str += "<div class=\'w3-container w3-margin-bottom w3-hover-opacity\'>";
            str += "<div class=\'w3-container w3-light-grey\'>";
            str += "<div class=\'tag-title2\'><strong>" + tpl_title + "</strong></div>";
            str += "<div class=\'tag-info\'>"+ tpl_author + " " + tpl_time + "</div>";
            str += "<p class=\'tag-text\'>" + tpl_content + "</p>";
            str += "</div></div></a>";
       
          }
        //console.log('搜索结果');
        //console.log(str);
        document.getElementById('searchresults').innerHTML = str;
    }else{
        //console.log('搜索没有结果'); 
        document.getElementById('searchresults').innerHTML = '<div class="w3-container">找不到搜索结果</div>';
    }
      
  }, 
  error:function(){ 
    console.log("error") 
  } 
}) 


/*ajax*/
function ajax(){ 
  var ajaxData = { 
    type:arguments[0].type || "GET", 
    url:arguments[0].url || "", 
    async:arguments[0].async || "true", 
    data:arguments[0].data || null, 
    dataType:arguments[0].dataType || "text", 
    contentType:arguments[0].contentType || "application/x-www-form-urlencoded", 
    beforeSend:arguments[0].beforeSend || function(){}, 
    success:arguments[0].success || function(){}, 
    error:arguments[0].error || function(){} 
  } 
  ajaxData.beforeSend() 
  var xhr = createxmlHttpRequest();  
  xhr.responseType=ajaxData.dataType; 
  xhr.open(ajaxData.type,ajaxData.url,ajaxData.async);  
  xhr.setRequestHeader("Content-Type",ajaxData.contentType);  
  xhr.send(convertData(ajaxData.data));  
  xhr.onreadystatechange = function() {  
    if (xhr.readyState == 4) {  
      if(xhr.status == 200){ 
        ajaxData.success(xhr.response) 
      }else{ 
        ajaxData.error() 
      }  
    } 
  }  
} 
 
function createxmlHttpRequest() {  
  if (window.ActiveXObject) {  
    return new ActiveXObject("Microsoft.XMLHTTP");  
  } else if (window.XMLHttpRequest) {  
    return new XMLHttpRequest();  
  }  
} 
 
function convertData(data){ 
  if( typeof data === 'object' ){ 
    var convertResult = "" ;  
    for(var c in data){  
      convertResult+= c + "=" + data[c] + "&";  
    }  
    convertResult=convertResult.substring(0,convertResult.length-1) 
    return convertResult; 
  }else{ 
    return data; 
  } 
} 


</script>

    </div>
</div>

<footer class="w3-container w3-padding-jumbo w3-margin-top footer w3-center">
    <div class="w3-content tsw footer-text w3-padding-16">
        <div>Copyright © 2020<a href="https://w3css.github.tamshen.com"> TAMSHEN</a>. All Rights Reserved.</div>
        <div>Theme by <a href="https://github.com/Tamshen/hexo-theme-w3css" target="_blank">W3CSS</a> <span style="color: #e06870;">♥</span> Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></div>
  </div></footer>
 
<div id="scrollto" onclick="gotow('html')">
    <svg t="1583137941031" class="icon" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="100%" height="100%"><path d="M830.24 685.76l11.328-11.312a16 16 0 0 0 0-22.64L530.448 340.688a16 16 0 0 0-22.64 0L196.688 651.808a16 16 0 0 0 0 22.64l11.312 11.312a16 16 0 0 0 22.624 0l288.496-288.512L807.632 685.76a16 16 0 0 0 22.624 0z" p-id="3855" data-spm-anchor-id="a313x.7781069.0.i0" class="" fill="#7c7c7c"/></svg>
</div>
<script src="/Ts/js/js.js"></script>
</body>
<script src="/Ts/js/barba.js"></script>
<script>
Barba.Pjax.start();
Barba.Prefetch.init();
Barba.Dispatcher.on('linkClicked', function() {
    document.getElementById("barba-wrapper").style.opacity = ".5";
});
Barba.Dispatcher.on('initStateChange', function() {
    window.scrollTo(0,0); 
});
Barba.Dispatcher.on('transitionCompleted', function() {   
  if(document.getElementById("comments")){
    console.log('load comments');
    var gitalk = new Gitalk({
        clientID: 'cae2b901d1ea6011a805',
        clientSecret: '4cbdff1c5753f0dfb5345d1e10d67405d3213bc9',
        id: window.location.pathname,
        repo: 'mysitecomment',
        owner: 'tamshen',
        admin: 'tamshen'
    })
    gitalk.render('gitalk-container');

  }
  if (document.getElementById("article_viewer")){
    var viewer = new Viewer(document.getElementById("article_viewer"), {url: 'src',toolbar: false,navbar: false,title: false});
  }
  document.getElementById("barba-wrapper").style.opacity = "1";
});

Barba.Pjax.originalPreventCheck = Barba.Pjax.preventCheck;
Barba.Pjax.preventCheck = function(evt, element) {
  if (!Barba.Pjax.originalPreventCheck(evt, element)) {
    return false;
  }
  // No need to check for element.href -
  // originalPreventCheck does this for us! (and more!)
  if (/.map/.test(element.href.toLowerCase())) {
    return false;
  }
  if (/.search/.test(element.href.toLowerCase())) {
    return false;
  }


  return true;
};

</script>
    

</html>
